<div class="container-fluid py-4">
    <div class="row mt-4">
        <h1>NEW EVENT</h1>


        <!-- CURRENT CLUB NEWS STARTS -->
        <div class="col-lg-12 mb-lg-0 mb-4">
            <div class="card">

                <form class="user" [formGroup]="eventForm" (ngSubmit)="onSubmit()">
                    <div class="row">
                        <div class="col-md-12">

                            <div class="main-block d-flex">
                                <div class="first-block">
                                    <div class="form-group">
                                        <label>Title</label>
                                        <input type="text" class="form-control" placeholder="Add a Event-Title"
                                            name="title" formControlName="title"
                                            [ngClass]="{ 'is-invalid': isSubmitted && formControls['title'].errors }">
                                        <span class="danger" *ngIf="isSubmitted && formControls['title'].errors">
                                            This is required </span>
                                    </div><br>


                                    <div class="form-group">
                                        <label>Location</label>
                                        <input type="text" class="form-control" placeholder="Add a Event-Location"
                                            name="location" formControlName="location"
                                            [ngClass]="{ 'is-invalid': isSubmitted && formControls['location'].errors }">
                                        <span class="danger" *ngIf="isSubmitted && formControls['location'].errors">
                                            This is required </span>
                                    </div><br>


                                    <div class="form-group">
                                        <label>Type</label>
                                        <input type="text" class="form-control" placeholder="Event-Type" name="type"
                                            formControlName="type"
                                            [ngClass]="{ 'is-invalid': isSubmitted && formControls['type'].errors }">
                                        <span class="danger" *ngIf="isSubmitted && formControls['type'].errors">
                                            This is required </span>
                                    </div><br>

                                    <div class="dateTime">
                                        <div class="form-group">
                                            <label>Start-Date</label>
                                            <input type="text" class="form-control" name="startDate"
                                                formControlName="startDate"
                                                [ngClass]="{ 'is-invalid': isSubmitted && formControls['startDate'].errors }">
                                            <span class="danger"
                                                *ngIf="isSubmitted && formControls['startDate'].errors">
                                                This is required </span>
                                        </div>&nbsp;&nbsp;

                                        <div class="form-group">
                                            <label>Start-Time</label>
                                            <input type="text" class="form-control" placeholder="Time" name="startTime"
                                                formControlName="startTime"
                                                [ngClass]="{ 'is-invalid': isSubmitted && formControls['startTime'].errors }">
                                            <span class="danger"
                                                *ngIf="isSubmitted && formControls['startTime'].errors">
                                                This is required </span>
                                        </div>&nbsp;&nbsp;

                                        <div class="form-group">
                                            <label>End-Time</label>
                                            <input type="text" class="form-control" placeholder="Time" name="endTime"
                                                formControlName="endTime"
                                                [ngClass]="{ 'is-invalid': isSubmitted && formControls['endTime'].errors }">
                                            <span class="danger" *ngIf="isSubmitted && formControls['endTime'].errors">
                                                This is required </span>
                                        </div>

                                    </div>

                                    <div class="form-group">
                                        <label>Room</label>
                                        <div class="input-box">
                                            <ng-select [items]="rooms" bindLabel="name"
                                                formControlName="room">
                                            </ng-select>
                                        </div>
                                        <span class="danger" *ngIf="isSubmitted && formControls['room'].errors">
                                            This is required </span>
                                    </div><br>

                                </div>

                                <div class="second-block">
                                    <div class="form-group"> 
                                        <label>Visibility</label>
                                        <div class="input-box">
                                            <ng-select [items]="visibilityOptions" bindLabel="name"
                                                formControlName="visibility"  (change)="onVisibilityChange()">
                                            </ng-select>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label>Add a Picture</label><br>
                                        <input type="file" class="form-control-file" name="image"
                                            formControlName="image"
                                            [ngClass]="{ 'is-invalid': isSubmitted && formControls['image'].errors }"
                                            (change)="onImageChange($event)">
                                        <span class="danger" *ngIf="isSubmitted && formControls['image'].errors">
                                            This is required
                                        </span>
                                    </div>
                                    <div class="img-preview" *ngIf="imageUrl">
                                        <label>Preview</label>
                                        <img [src]="imageUrl" class="img-thumbnail" alt="Preview Image">
                                    </div>
                                    <br>

                                    <div class="form-group">
                                        <label>Description</label>
                                        <textarea class="form-control" placeholder="Enter Text Here" name="description"
                                            formControlName="description"
                                            [ngClass]="{ 'is-invalid': isSubmitted && formControls['description'].errors }"
                                            style="height:90px"></textarea>
                                        <span class="danger" *ngIf="isSubmitted && formControls['description'].errors">
                                            This is required
                                        </span>
                                    </div><br>


                                </div>
                            </div>
                            <button type="submit" data-text="register"
                                class="button-one submit-button mt-15">CREATE</button>

                        </div>
                    </div>
                </form><br>
            </div>
        </div>
        <!-- CURRENT CLUB NEWS ENDS -->
    </div>

</div>